<div class="cdp_multibarBox">
	<ul>
		<li>			
			<div class="gubun"><span class="name">RM</span>(<span class="sum">9</span>명)</div>
			<div class="cdp_multiBar">	
				<!-- progressWrap -->
				<div class="progressWrap">
					<!-- progressWrapIn -->
					<div class="progressWrapIn">
						<div class="progressBox graph01">														
							<div class="bar"></div>		
							<div class="dataBox">
								<span class="data">
									<span class="num">20</span><span class="unit">명</span>
								</span>
							</div>	
						</div>
						<div class="progressBox graph02">														
							<div class="bar"></div>		
							<div class="dataBox">
								<span class="data">
									<span class="num">80</span><span class="unit">명</span>
								</span>
							</div>	
						</div>
						<div class="progressBox graph03">														
							<div class="bar"></div>		
							<div class="dataBox">
								<span class="data">
									<span class="num">100</span><span class="unit">명</span>
								</span>
							</div>	
						</div>
						<div class="medal"> 														
							<div class="icon"></div>	
							<span class="data">
								<span class="num">3000</span><span class="unit">명</span>
							</span>
						</div>
					</div>
					<!-- EOD : progressWrapIn -->
				</div>
				<!-- EOD : progressWrap -->
			</div>
		</li>
		<li>			
			<div class="gubun"><span class="name">PB</span>(<span class="sum">20</span>명)</div>
			<div class="cdp_multiBar">	
				<!-- progressWrap -->
				<div class="progressWrap">
					<!-- progressWrapIn -->
					<div class="progressWrapIn">
						<div class="progressBox graph01">														
							<div class="bar"></div>		
							<div class="dataBox">
								<span class="data">
									<span class="num">10</span><span class="unit">명</span>
								</span>
							</div>	
						</div>
						<div class="progressBox graph02">														
							<div class="bar"></div>		
							<div class="dataBox">
								<span class="data">
									<span class="num">6</span><span class="unit">명</span>
								</span>
							</div>	
						</div>
						<div class="progressBox graph03">														
							<div class="bar"></div>		
							<div class="dataBox">
								<span class="data">
									<span class="num">4</span><span class="unit">명</span>
								</span>
							</div>	
						</div>
						<div class="medal"> 														
							<div class="icon"></div>	
							<span class="data">
								<span class="num">400</span><span class="unit">명</span>
							</span>
						</div>
					</div>
					<!-- EOD : progressWrapIn -->
				</div>
				<!-- EOD : progressWrap -->
			</div>
		</li>
		<li>
			<div class="gubun"><span class="name">RB(Retail Banking)</span>(<span class="sum">15</span>명)</div>
			<div class="cdp_multiBar">	
				<!-- progressWrap -->
				<div class="progressWrap">
					<!-- progressWrapIn -->
					<div class="progressWrapIn">
						<div class="progressBox graph01">														
							<div class="bar"></div>		
							<div class="dataBox">
								<span class="data">
									<span class="num">3</span><span class="unit">명</span>
								</span>
							</div>	
						</div>
						<div class="progressBox graph02">														
							<div class="bar"></div>		
							<div class="dataBox">
								<span class="data">
									<span class="num">7</span><span class="unit">명</span>
								</span>
							</div>	
						</div>
						<div class="progressBox graph03">														
							<div class="bar"></div>		
							<div class="dataBox">
								<span class="data">
									<span class="num">5</span><span class="unit">명</span>
								</span>
							</div>	
						</div>
						<div class="medal"> 														
							<div class="icon"></div>	
							<span class="data">
								<span class="num">5</span><span class="unit">명</span>
							</span>
						</div>
					</div>
					<!-- EOD : progressWrapIn -->
				</div>
				<!-- EOD : progressWrap -->
			</div>
		</li>
		<li>
			<div class="gubun"><span class="name">외환</span>(<span class="sum">6</span>명)</div>
			<div class="cdp_multiBar">					
				<!-- progressWrap -->
				<div class="progressWrap">
					<!-- progressWrapIn -->
					<div class="progressWrapIn">
						<div class="progressBox graph01">														
							<div class="bar"></div>		
							<div class="dataBox">
								<span class="data">
									<span class="num">21</span><span class="unit">명</span>
								</span>
							</div>	
						</div>
						<div class="progressBox graph02">														
							<div class="bar"></div>		
							<div class="dataBox">
								<span class="data">
									<span class="num">17</span><span class="unit">명</span>
								</span>
							</div>	
						</div>
						<div class="progressBox graph03">														
							<div class="bar"></div>		
							<div class="dataBox">
								<span class="data">
									<span class="num">32</span><span class="unit">명</span>
								</span>
							</div>	
						</div>
						<div class="medal"> 														
							<div class="icon"></div>	
							<span class="data">
								<span class="num">2</span><span class="unit">명</span>
							</span>
						</div>
					</div>
					<!-- EOD : progressWrapIn -->
				</div>
				<!-- EOD : progressWrap -->
			</div>
		</li>
		<li>
			<div class="gubun"><span class="name">수출입</span>(<span class="sum">9</span>명)</div>
			<div class="cdp_multiBar">	
				<!-- progressWrap -->
				<div class="progressWrap">
					<!-- progressWrapIn -->
					<div class="progressWrapIn">
						<div class="progressBox graph01">														
							<div class="bar"></div>		
							<div class="dataBox">
								<span class="data">
									<span class="num">64</span><span class="unit">명</span>
								</span>
							</div>	
						</div>
						<div class="progressBox graph02">														
							<div class="bar"></div>		
							<div class="dataBox">
								<span class="data">
									<span class="num">10</span><span class="unit">명</span>
								</span>
							</div>	
						</div>
						<div class="progressBox graph03">														
							<div class="bar"></div>		
							<div class="dataBox">
								<span class="data">
									<span class="num">10</span><span class="unit">명</span>
								</span>
							</div>	
						</div>
						<div class="medal"> 														
							<div class="icon"></div>	
							<span class="data">
								<span class="num">1</span><span class="unit">명</span>
							</span>
						</div>
					</div>
					<!-- EOD : progressWrapIn -->
				</div>
				<!-- EOD : progressWrap -->
			</div>
		</li>
	</ul>
</div>


<script>
		
	function tnSetW(){
		
		pageW = $(window).width();
	
		jQuery('.cdp_multiBar').each(function(index){
			var markEnd = 200; // 최대 기준값
						
			var tN = jQuery(this);
			var allW = jQuery(this).width(); // 전체 길이
			var medalW = jQuery(this).find(".medal .data").innerWidth(); // 메달 영역 테스트 포함한 길이
			var gubunW = jQuery(this).prev(".gubun").innerWidth(); // 구분 영역 길이
			var wrapW = allW - gubunW; // 데이터 차트 나오는 길이 
			
			if(pageW > 1100){
			
				var px = (wrapW - gubunW) / markEnd; // px 환산 작업 
				
			}else{
				
				var px = (wrapW - gubunW) / markEnd; // px 환산 작업 
				
			}
				
			jQuery(this).find(".progressWrap").css({
				"width" : wrapW,	
			});
							
			var Narray =  new Array();
			var sum = 0;
			
			tN.find(".progressBox").each(function(index){		
				
				boxW = jQuery(this).find('.dataBox .num').text() * px;
				dataW = jQuery(this).find(".dataBox .num").text();
				dataW = dataW.toString();
				dataWlen = dataW.length; 

				dataT = (dataWlen * 6) + 25;
				
				if(pageW > 800){
					
					if(dataT > boxW){
						boxW = 35;
						jQuery(this).find(".data").show();
					}
	
				}else{
					
					if(dataT > boxW){
						
						jQuery(this).find(".data").hide();
						
					}
					
				}
								
				Narray.push(boxW);
				sum += Narray[index];
				
				if(index == "0"){
					
					jQuery(this).css("left","0");

				}else{
					
					beforeW = parseInt((jQuery(this).prev(".progressBox").css("width")));
					beforeW = beforeW + parseInt((jQuery(this).prev(".progressBox").css("left")));
					jQuery(this).css("left", beforeW + "px");

				}
			
				
				jQuery(this).css("width", boxW + "px");			
				jQuery(this).siblings(".medal").css("left",sum + "px");

			});	

			speedTurm = 2 + (0.5 * index);

			jQuery(this).find(".progressWrapIn").css({
				
				"width" : sum + medalW + 40,	
				"transition" : "width " + speedTurm +"s ease"
			});

		});
	}

	tnSetW();

	
	$(window).resize(function(){
	
		tnSetW();
	
	});

</script>